{
  "version": 3,
  "sources": ["../src/index.ts", "../../shared/src/index.ts", "../../runtime-core/src/vnode.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts"],
  "sourcesContent": ["import { createRenderer } from \"@vue/runtime-core\";\nimport { nodeOps } from \"./nodeOps\";\nimport { patchProp } from \"./patchProp\";\nconst renderOptions = Object.assign(nodeOps, { patchProp })\n\n//\u6CE8\u610F\u795E\u5947\u7684h\u65B9\u6CD5\uFF0C\u5C31\u662F\u5C31\u662F\u5C06\u4F60\u4F20\u7684\u4E00\u4E9B\u5217\u53C2\u6570\u8F6C\u5316\u4E3A\u4E00\u4E2A\u865A\u62DFdom\u5C31\u662F\u4E00\u4E2Ajavascript\u5BF9\u8C61\nexport function render(vnode, container) {//\u6CE8\u610F\u53C2\u6570\uFF0C\u524D\u8005\u662F\u4E00\u4E2A\u865A\u62DFdom\u540E\u8005\u662F\u4E00\u4E2A\u771F\u5B9E\u7684dom,\u4E5F\u79F0\u5BB9\u5668\n    createRenderer(renderOptions).render(vnode, container);\n}\n//\u6CE8\u610F\u8FD9\u91CC\u6709\u4E24\u4E2Arender\u65B9\u6CD5\uFF0C\u4F46\u5176\u5B9E\u662F\u4E00\u4E2A\u5367\u69FD\n//\u65E0\u8BBA\u662Fh \u65B9\u6CD5\u8FD8\u662Frender\u65B9\u6CD5\u90FD\u4E0Edom\u64CD\u4F5C\u65E0\u5173\uFF0C\n//\u8FD9\u91CC\u6709\u70B9\u96BE\u4EE5\u7406\u89E3\uFF0Ch\u65B9\u6CD5\u65E0\u5173\u597D\u7406\u89E3\uFF0C\u4F46\u662Frender\u65B9\u6CD5\u9700\u8981\u4F20\u5165\u4E00\u4E2A\u771F\u5B9E\u7684dom\u96BE\u9053\u8FD9\u4E5F\u4E0Edom\u64CD\u4F5C\u65E0\u5173\u5417\n\nexport   * from \"@vue/runtime-core\";\n", "export const isObject = (value) => {\n    return typeof value === 'object' && value !== null\n}\nexport const isFunction = (value) => {\n    return typeof value === 'function';\n};\n\nexport const isString = (value) => {\n    return typeof value === 'string';\n}\nexport const isNumber = (value) => {\n    return typeof value === 'number';\n}\n\nexport const isArray = Array.isArray;\nexport const assign = Object.assign;\nexport const enum ShapeFlags {\n    ELEMENT = 1,\n    FUNCTIONAL_COMPONENT = 1<<1,\n    STATEFUL_COMPONENT = 1<<2,\n    TEXT_CHILDREN = 1<<3,\n    ARRAY_CHILDREN = 1<<4,\n    SLOTS_CHILDREN = 1<<5,\n    TELEPORT = 1<<6,\n\n    SUSPENSE = 1<<7,\n    COMPONENT_SHOULD_KEEP_ALIVE = 1<<8,\n    CONMONENT_KEPT_ALIVE = 1<<9,\n    COMPONEBT = ShapeFlags.STATEFUL_COMPONENT |ShapeFlags.FUNCTIONAL_COMPONENT\n}", "import { isArray, isString, ShapeFlags } from \"@vue/shared\";\n export const Text = Symbol('Text');\nexport function isVnode(value){\n    return !!(value && value.__v_isVode);\n}\nexport function isSameVnode(n1,n2){//\u5224\u65AD\u4E24\u4E2A\u865A\u62DF\u8282\u70B9\u662F\u4E0D\uFF0C\u5957\u8DEF\u662F1\uFF09\u6807\u7B7E\u540D\u76F8\u540C 2\uFF09key\u662F\u4E00\u6837\u7684\n  return (n1.type ===n2.type)&& (n1.key === n2.key)\n}\n\n//\u865A\u62DF\u8282\u70B9\u6709\u5F88\u591A\uFF0C\u7EC4\u4EF6\uFF0C\u5143\u7D20\uFF0C\u6587\u672C\nexport function createVnode(type, props, children=null) {\n    //\u7EC4\u5408\u65B9\u6848\uFF0CshapeFlag \u60F3\u77E5\u9053\u4E00\u4E2A\u5143\u7D20\u4E2D\u5305\u542B\u7684\u662F\u591A\u4E2A\u513F\u5B50\uFF0C\u8FD8\u662F\u4E00\u4E2A\u513F\u5B50\uFF1B\n\n    let shapeFlag = isString(type) ? ShapeFlags.ELEMENT : 0;\n    const vnode = {\n        type,\n        props,\n        children,\n        el:null,//\u865A\u62DF\u8282\u70B9\u4E0A\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\uFF0C\u540E\u7EEDdiff\u7B97\u6CD5\n        key:props?.['key'],\n        __v_isVode:true,\n        shapeFlag,\n    };\n    if (children) {\n        let type = 0;\n        if (isArray(children)) {\n            type = ShapeFlags.ARRAY_CHILDREN;\n        } else {\n            children = String(children);\n            type = ShapeFlags.TEXT_CHILDREN;\n        }\n        vnode.shapeFlag = vnode.shapeFlag |type;//\n        //\u8FD9\u6837\u5C31\u8868\u793A\u51FA\u8FD9\u4E2Avnode\u91CC\u9762\u662F\u4E00\u4E2A\u6587\u672C\u8FD8\u662F\u6570\u7EC4\n    }\n    return vnode;\n}", "import { isString, ShapeFlags } from \"@vue/shared\";\nimport { patchClass } from \"packages/runtime-dom/src/modules/class\"\nimport { createVnode, isSameVnode, Text } from \"./vnode\";\n\nexport function createRenderer(renderOptions) {\n    let {\n        insert: hostInsert,\n        remove: hostRemove,\n        setElementText: hostSetElementText,\n        setText: hostSetText,\n        parentNode: hostParentNode,\n        nextSibling: hostNextSibling,\n        createElement: hostCreateElenment,\n        createText: hostCreateText,\n        patchProp: hostPatchprop,\n    } = renderOptions;\n    const normalize = (children, i) => {\n        if (isString(children[i])) {\n            let vnode = createVnode(Text, null, children[i]);\n            children[i] = vnode;\n        }\n        return children[i];\n    }\n\n    const mountChildren = (children, container) => {\n        for (let i = 0; i < children.length; i++) {\n            let child = normalize(children, i);//\u5904\u7406\u540E\u8981\u8FDB\u884C\u66FF\u6362\uFF0C\u5426\u5219children\u4E2D\u5B58\u653E\u7684\u4F9D\u65E7\u662F\u90A3\u4E2A\u5B57\u7B26\u4E32\n            patch(null, child, container);\n        }\n    }\n\n    function mountElement(vnode, container,anchor) {\n        let { type, props, children, shapeFlag } = vnode;\n        vnode.el = hostCreateElenment(type);//\u5C06\u771F\u5B9E\u5143\u7D20\u6302\u5728\u5230\u8FD9\u4E2A\u865A\u62DF\u8282\u70B9\u4E0A\uFF0C\u540E\u7EED\u7528\u4E8E\u590D\u7528\u8282\u70B9\n        let el = vnode.el;\n       \n        if (props) {\n            for (let key in props) {\n                hostPatchprop(el, key, null, props[key]);\n            }\n        }\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {//\u6587\u672C\n            hostSetElementText(el, children)\n        } else if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n            mountChildren(children, el);\n        }\n        hostInsert(el, container,anchor);\n    }\n    const processText = (n1, n2, container) => {\n        if (n1 === null) {\n            hostInsert((n2.el = hostCreateText(n2.children)), container)\n        } else {//\u4E24\u4E2A\u6587\u672C\u7684\u5185\u5BB9\u53EF\u80FD\u53D8\u5316\u4E86\n            const el = n2.el = n1.el;\n            if (n1.children !== n2.children) {\n                hostSetText(el, n2.children)\n            }\n\n        }\n    }\n    const patchProps = (oladProps, newProps, el) => {\n        for (let key in newProps) {//\u65B0\u7684\u91CC\u9762\u6709\uFF0C\u76F4\u63A5\u7528\u65B0\u7684\u76D6\u6389\u5373\u53EF\n            hostPatchprop(el, key, oladProps[key], newProps[key]);\n        }\n        for (let key in oladProps) {\n            if (newProps[key] == null) {//\u5982\u679C\u8001\u7684\u91CC\u9762\u6709\u65B0\u7684\u91CC\u9762\u54A9\u6709\u5219\u662F\u5220\u9664\u8001\u503C\n                hostPatchprop(el, key, oladProps[key], undefined)\n            }\n        }\n\n\n    }\n    const unmountChildren = (children) => {\n        for (let i = 0; i < children.length; i++) {\n            unmount(children[i]);\n        }\n    }\n    const patchKeyedChildren = (c1, c2, el) => {//\u6BD4\u8F83\u4E24\u4E2A\u513F\u5B50\u7684\u5DEE\u5F02\n\n        let i = 0;\n        let e1 = c1.length - 1;\n        let e2 = c2.length - 1;\n        //sync from start\n        while (i <= e1 && i <= 2) {//\u6709\u4EFB\u4F55\u4E00\u65B9\u505C\u6B62\u5FAA\u73AF\u5219\u76F4\u63A5\u9000\u51FA\n            const n1 = c1[i];\n            const n2 = c2[i];\n            //\u4E0B\u9762\u8FD8\u662F\u5728\u7279\u6B8A\u5904\u7406\uFF0C\u5904\u7406\u6389\u4E00\u4E9B\u80FD\u591F\u5C11\u6BD4\u8F83\u5C31\u5C11\u6BD4\u8F83\u7684\u60C5\u666F\n            if (isSameVnode(n1, n2)) {\n                patch(n1, n2, el);//\u8FD9\u6837\u505A\u7684\u662F\u6BD4\u8F83\u4E24\u4E2A\u8282\u70B9\u7684\u5C5E\u6027\u548C\u5B50\u8282\u70B9\n            } else {\n                break;\n            }\n            i++;\n        }\n        //sync from end\n        while (i <= e1 && i <= e2) {\n            const n1 = c1[e1];\n            const n2 = c2[e2];\n            if (isSameVnode(n1, n2)) {\n                patch(n1, n2, el);\n            } else {\n                break;\n            }\n            e1--;\n            e2--;\n        }\n        //common sequence +mount\n        //i\u8981\u6B65e1\u5927\u8BF4\u660E\u6709\u65B0\u589E\u7684\n        //i\u548Ce2\u4E4B\u95F4\u662F\u65B0\u589E\u7684\u90E8\u5206\n        if (i > e1) {\n            if (i <= e2) {\n                while (i <= e2) {\n                    const nextPos = e2 + 1;\n                    const anchor = nextPos<c2.length?c2[nextPos].el: null; \n                    patch(null, c2[i], el,anchor);//\u521B\u5EFA\u65B0\u8282\u70B9\u6254\u5230\u5BB9\u5668\u4E2D\n                    i++;\n                }\n            }\n        }else if(i>e2){\n            if(i<=e1){\n                while(i<=e1){\n                    unmount(c1[i]);\n                    i++\n                }\n            }\n        }\n        //common sequence +unmount\n         //i\u8981\u6B65e2\u5927\u8BF4\u660E\u6709\u5378\u8F7D\u7684\n        //i\u548Ce1\u4E4B\u95F4\u662F\u8981\u65B0\u589E\u7684\u90E8\u5206\n\n\n        //\u4F18\u5316\u5B8C\u6BD5*************\n        //\u4E71\u5E8F\u5BF9\u6BD4\n        let s1 = i;\n        let s2 = i;\n   const keyToNewIndexMap = new Map();\n   for(let i =s2;i<=e2;i++){\n  keyToNewIndexMap.set(c2[i].key,i);\n   }\n  //\u5FAA\u73AF\u8001\u7684\u5143\u7D20\uFF0C\u770B\u4E00\u4E0B\u65B0\u7684\u91CC\u9762\u6709\u6CA1\u6709\n    //\u5982\u679C\u6709\u9700\u8981\u6BD4\u8F83\u5DEE\u5F02\uFF0C\u5982\u679C\u6CA1\u6709\u8981\u6DFB\u52A0\u5230\u5217\u8868\u4E2D\n    //\u8001\u7684\u6709\u65B0\u7684\u6CA1\u6709\u8981\u5220\u9664\n    const  toBePatched = e2 -s2 +1;//\u65B0\u5143\u7D20\u7684\u603B\u4E2A\u6570 \n    const newIndexToOldIndexMap = new Array(toBePatched).fill(0);//\u4E00\u4E2A\u8BB0\u5F55\u662F\u5426\u6BD4\u5BF9\u8FC7\u7684\u6620\u5C04\u8868\n    for(let i =s1;i<=e1;i++){\n        const oldChild = c1[i];//\u8001\u7684\u5B69\u5B50\n        let newIndex = keyToNewIndexMap.get(oldChild.key);\n        //\u7528\u8001\u7684\u5B69\u5B50\u53BB\u65B0\u7684\u91CC\u9762\u627E\n        if(newIndex==undefined){\n  unmount(oldChild);\n        }else{\n            //\u65B0\u7684\u4F4D\u7F6E\u5BF9\u5E94\u7684\u8001\u7684\u4F4D\u7F6E\uFF0C\u5982\u679C\u6570\u7EC4\u91CC\u653E\u7684\u503C\u5927\u4E8E\u96F6\uFF0C\u8BF4\u660E\u5DF2\u7ECFpatch\u8FC7\u4E86\n            newIndexToOldIndexMap[newIndex-s2] = i+1;\n            patch(oldChild,c2[newIndex],el);\n        }\n    }\n    //\u9700\u8981\u79FB\u52A8\u4F4D\u7F6E\n  for(let i = toBePatched -1;i>=0;i--){\n    let index = i +s2;\n    let current = c2[index];\n    let anchor = index +1 <c2.length?c2[index+1].el:null;\n    if(newIndexToOldIndexMap[i] ===0){//\u521B\u5EFA\npatch(null,current,el,anchor);\n    }else{//\u4E0D\u662F\u96F6\uFF0C \u8BF4\u660E\u662F\u5DF2\u7ECF\u6BD4\u5BF9\u8FC7\u5C5E\u6027\u548C\u513F\u5B50\u7684\u4E86\n        debugger;\n  hostInsert(current.el,el,anchor);\n\n    }\n  }\n  //\u4EE5\u4E0A\u505A\u6CD5\u4E71\u5E8F\u4E2D\u7684\u5143\u7D20\u90FD\u64CD\u4F5C\u4E86\u4E00\u904D\uFF0C\u8FD9\u65F6\u5019\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u5C31\u8981\u767B\u573A\u4E86\n  //\u8FD9\u4E2A\u5730\u65B9\u662Fvue2\u6CA1\u6709\u7684\u54E6\n    }\n  \n\n    const pathchChildren = (n1, n2, el) => {\n        //\u521A\u521A\u8BF4\u6F0F\u4E86\uFF0C\u8FD9\u91CC\u624D\u662F\u6700\u7CBE\u5F69\u7684\u90E8\u5206\n        const c1 = n1.children;\n        const c2 = n2.children;\n        const preShapeFlags = n1.shapeFlag;// \u4E4B\u524D\u7684\n        const shapeFlag = n2.shapeFlag;//\u4E4B\u540E\u7684\n        //\u6BD4\u8F83\u4E24\u4E2A\u513F\u5B50\u5217\u8868\u7684\u5DEE\u5F02\u4E86\n        if (shapeFlag & ShapeFlags.TEXT_CHILDREN) {\n            if (preShapeFlags & ShapeFlags.ARRAY_CHILDREN) {\n                //  \u4E4B\u524D\u662F\u6570\u7EC4\u8282\u70B9\u513F\u5B50\uFF0C\u73B0\u5728\u662F\u6587\u672C\u8282\u70B9\u513F\u5B50\u3002\u9700\u8981\u5C06\u6570\u7EC4\u8282\u70B9\u5168\u90E8\u5378\u8F7D\n                unmountChildren(c1);\n            }\n            if (c1 !== c2) {\n                //\u8FDB\u5230\u8FD9\u91CC\u9762\u8BF4\u660E\u4E24\u4E2A\u513F\u5B50\u90FD\u662F\u6587\u672C\uFF0C\u4E14\u6587\u672C\u5185\u5BB9\u4E0D\u4E00\u6837\u3001\n                hostSetElementText(c2, el);\n            }\n        } else {\n            //\u8FDB\u5230\u8FD9\u91CC\u9762\u8BF4\u660E\u4E0D\u662F\u6570\u7EC4\u5C31\u662F\u7A7A\u4E86\uFF0C\u65B0\u7684\u5B69\u5B50\n            if (preShapeFlags & ShapeFlags.ARRAY_CHILDREN) {\n                if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    //\u8FD9\u91CC\u9762\u6570\u7EC4\u548C\u6570\u7EC4\u76F8\u6BD4\uFF0C\u5178\u578B\u7684diff\u7B97\u6CD5\n                    patchKeyedChildren(c1, c2, el);//\u5168\u91CFdiff\n\n                } else {\n                    //\u73B0\u5728\u4E0D\u662F\u6570\u7EC4\uFF0C\u6587\u672C\u548C\u7A7A\n                    unmountChildren(c1);\n                }\n            } else {\n                if (preShapeFlags & ShapeFlags.TEXT_CHILDREN) {\n                    hostSetElementText(el, '');\n                }\n                if (shapeFlag & ShapeFlags.ARRAY_CHILDREN) {\n                    mountChildren(c2, el);\n                }\n            }\n\n        }\n    }\n\n    const patchElement = (n1, n2, container) => {\n        let el = n2.el = n1.el;//\u5C45\u7136\u8FDB\u6765\u6BD4\u5BF9\u4E86 \u5F53\u7136\u8981\u590D\u7528\u8282\u70B9\n        let oladProps = n1.props || {};\n        let newProps = n2.props || {};\n        patchProps(oladProps, newProps, el);//\u8FD9\u91CC\u4E0D\u662Fcontainer\u800C\u662Fel\uFF0C\u627E\u4E86\u597D\u4E45\uFF0C\u5E78\u4E8F\u627E\u51FA\u4E86\u4E0D\u60F3computed\u4E00\u6837\n\n\n        pathchChildren(n1, n2, el);\n    }\n\n    const processElement = (n1, n2, container,anchor) => {\n        if (n1 === null) {\n            mountElement(n2, container,anchor)\n        } else {\n\n            patchElement(n1, n2, container)//\u8FD9\u91CC\u4F30\u8BA1\u662F\u91CD\u5934\u620F\u91CC\u9762\u7684\u91CD\u5934\u620F\u4E86\uFF0C\u5C31\u662F\u5143\u7D20\u6BD4\u5BF9\n        }\n    }\n\n    const patch = (n1, n2, container,anchor = null) => {//\u6838\u5FC3\u7684patch\u65B9\u6CD5\n        if (n1 === n2) { return };\n\n        if (n1 && !isSameVnode(n1, n2)) {//\u5224\u65AD\u4E24\u4E2Avnode\u662F\u5426\u76F8\u540C\uFF0C\u4E0D\u76F8\u540C\u5378\u8F7D\u518D\u63D0\u4EA4\uFF0C\n\n            unmount(n1);\n            n1 = null;\n        }\n\n        const { type, shapeFlag } = n2;\n        //\u521D\u59CB\u5316\u8282\u70B9\n        //\u540E\u7EED\u8FD8\u6709\u7EC4\u4EF6\u7684\u521D\u6B21\u6E32\u67D3\uFF0C\u76EE\u524D\u662F\u5143\u7D20\u7684\u521D\u59CB\u5316\u6E32\u67D3\n        switch (type) {\n            case Text:\n                processText(n1, n2, container);\n                break;\n            default:\n                if (shapeFlag & ShapeFlags.ELEMENT) {\n                    processElement(n1, n2, container,anchor);\n                }\n        }\n\n    }\n    const unmount = (vnode) => {\n        hostRemove(vnode.el);\n    }\n\n    const render = (vnode, container) => {//\u6E32\u67D3\u8FC7\u7A0B\u662F\u7528\u4F60\u4F20\u5165\u7684renderOptions\u6765\u6E32\u67D3\u7684\n        //\u5F00\u59CB\u5199render\u65B9\u6CD5\u4E86\uFF0C\u597D\u6FC0\u52A8\n        //\u5982\u679C\u5F53\u524Dvnode\u662F\u7A7A\u7684\u8BDD\uFF0C\n        if (vnode == null) {\n            //\u5378\u8F7D\u903B\u8F91\n            if (container._vnode) {\n                unmount(container._vnode)\n            }\n\n        } else {\n            //\u8FD9\u91CC\u65E2\u6709\u521D\u59CB\u5316\u7684\u903B\u8F91\uFF0C\u4E5F\u6709\u66F4\u65B0\u7684\u903B\u8F91\n            patch(container._vnode || null, vnode, container)//\u8FD9\u4E00\u884C\u6709\u70B9\u4E0D\u61C2\uFF0C\u96BE\u9053\u662F\u9ED8\u8BA4\u8FD9\u4E2Acontainer\n            //\u53EA\u6302\u8F7D\u4E00\u4E2A\u865A\u62DF\u8282\u70B9\u5417\uFF1F\n        }\n        container._vnode = vnode\n    }\n    return {\n        render,\n    }\n}\n//\u6587\u672C\u7684\u5904\u7406\uFF0C\u9700\u8981\u589E\u52A0\u4E00\u4E2A\u7C7B\u578B\uFF0C\u56E0\u4E3A\u4E0D\u80FD\u901A\u8FC7document.createElement('\u6587\u672C')\n//\u6211\u4EEC\u5982\u679C\u4F20\u5165null\u7684\u65F6\u5019\u5728\u6E32\u67D3\u662F\uFF0C\u9700\u8981\u5C06dom\u8282\u70B9\u5220\u9664\n\n//\u66F4\u65B0\u903B\u8F91\u601D\u8003\uFF1B\n// - \u5982\u679C\u524D\u540E\u5B8C\u5168\u6CA1\u6709\u5173\u7CFB\uFF0C\u5220\u9664\u8001\u7684\uFF0C\u6DFB\u52A0\u65B0\u7684\n// - \u8001\u7684\u548C\u65B0\u7684\u4E00\u6837\uFF0C\u5C5E\u6027\u53EF\u80FD\u4E0D\u4E00\u6837\uFF0C\u518D\u5BF9\u6BD4\u5C5E\u6027\uFF0C\u66F4\u65B0\u5C5E\u6027\n//- \u6BD4\u513F\u5B50", "//h\u7684\u7528\u6CD5 h('div')\n//h('div',{style:{\"color\":\"red\"}})\n//h('div',{style:{\"color\":\"red\"}},\"hello\")\n//h('div',\"hello\")\n//h('div',null.'hellow','world')\n//h('div',null,h('span'))\n//h('div',null,[h('spab')])\n\nimport { isArray, isObject } from \"@vue/shared\";\nimport { createVnode, isVnode } from \"./vnode\";\n\nexport function h(type, propsChildren, children) {\n    const l = arguments.length;\n    if (l === 2) {\n        if(isObject(propsChildren)&&!isArray(propsChildren)){\n            if (isVnode(propsChildren)) {\n                return createVnode(type, null, propsChildren)\n            }\n            return createVnode(type,propsChildren)\n        }else{\n           return  createVnode(type,null,propsChildren)//\u6570\u7EC4\u6216\u8005\u6587\u672C \n        }\n    } else {\n        if (l > 3) {\n  children = Array.from(arguments).slice(2);\n        } else if (l === 3&& isVnode(children)) {\n   children = [children];\n        }\n        //\u5176\u4ED6\n      return   createVnode(type,propsChildren,children)\n    }\n}", "export const nodeOps = {\n    insert(child, parent, anchor = null) {\n        parent.insertBefore(child, anchor);//\u5982\u679Canchor\u4E3Anull\u7684\u8BDD\u5C31\u7B49\u4EF7\u4E3AappendChild\uFF0C\n        //\u4E09\u4E2A\u53C2\u6570\u5E94\u8BE5\u90FD\u662F\u771F\u5B9E\u7684dom\u8282\u70B9\n    },\n    remove(child) {\n        const parentNode = child.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(child);\n        }\n    },\n    setElementText(el, text) {\n        el.textContent = text;\n\n    },\n    setText(node, text) {//document.creatTextNode()\n        node.nodeValue = text;\n    },\n    querySelect(selector) {\n        return document.querySelector(selector);\n    },\n    parentNode(node) {\n        return node.parentNode;\n    },\n    nextSibling(node) {\n        return node.nextSibling;\n    },\n    createElement(tagName) {\n        return document.createElement(tagName);\n    },\n    createText(text) {\n        return document.createTextNode(text);\n    }\n}", "export function patchAttr(el,key,nextValue){\n    if(nextValue){\n        el.setAttribute(key,nextValue)\n    }else{\n        el.removeAttribute(key);\n    }\n}", "export function patchClass(el,nextValue){\n    if(nextValue ==null){\n        el.removeAttribute('class')\n        }else{\n            el.className = nextValue\n        }\n}", "function creatInvoker(callback) {\n    const invoker = (e) => invoker.value(e);\n    invoker.value = callback;\n    return invoker;\n}\n//\u7B80\u7B54\u8BF4\u4E00\u4E0B\u8FD9\u91CC\u7684\u539F\u7406\n//\u5C31\u662F\u8FD9\u4E2Ainvoker\u662F\u4E00\u4E2A\u51FD\u6570\uFF0C\u5B9E\u9645\u7ED1\u5B9A\u7684\u662F\u8FD9\u4E2A\u51FD\u6570\uFF0C\u800C\u8FD9\u4E2A\u51FD\u6570\u4F1A\u8C03\u7528\u81EA\u8EAB\u4E0A\u9762\u7684value\u65B9\u6CD5\n//\u7528\u6237\u4F20\u5165\u7684\u65B9\u6CD5\u4F1A\u88AB\u8D4B\u503C\u7ED9value\uFF0C\u8FD9\u6837\u907F\u514D\u7684\u591A\u6B21\u8C03\u7528addEventListener\u6765\u7ED1\u5B9A\u4E8B\u4EF6\n//\u4E0D\u8FC7\u4E0A\u8FF0\u51FD\u6570\u7684\u5199\u6CD5\uFF0C\u4EE5\u53CA\u4E0B\u9762\u8FDE\u7B49\u7684\u5199\u6CD5\u8FD8\u662F\u4EE4\u4EBA\u770B\u8D77\u6765\u6709\u70B9\u513F\u61F5\u903C\u7684\n//\u6E90\u7801\u4E2D\u662F\u53EF\u4EE5\u7ED1\u5B9A\u591A\u4E2A\u56DE\u8C03\u7684\u5C31\u662F\u4F20\u5165\u4E00\u4E2A\u6570\u7EC4\nexport function patchEvent(el, eventName, nextValue) {\n    //vue\u91CC\u9762\u5BF9\u4E8E\u4E8B\u4EF6\u7684\u5904\u7406\u6709\u4E9B\u8BB8\u590D\u6742\uFF0C\n\n    let invokers = el._vei || (el._veo = {});\n    let exists = invokers[eventName];\n    if (exists) {\n        if (nextValue) {\n            exists.value = nextValue;\n        } else {\n            el.removeEventListener(exists);\n            invokers[eventName] = null;\n\n        }\n    } else {\n        let event = eventName.slice(2).toLowerCase();\n        if (nextValue) {\n            const invoker = invokers[eventName] = creatInvoker(nextValue);\n            //\u4E0A\u4E00\u6B65\u8FD9\u6837\u5199\uFF0C\u5C31\u662F\u589E\u52A0\u9605\u8BFB\u96BE\u5EA6\u7F62\u4E86\n            el.addEventListener(event, invoker);\n        }\n\n    }\n}", "export function patchStyle(el,prevValue,nextValue={}){\n    //\u8FD9\u4E2A\u6837\u5F0F\u7684\u9700\u6C42\u662F\u8FD9\u6837\u7684\uFF0C\u53BB\u9664\u4E4B\u524D\u6CA1\u6709\u7684\uFF0C\u6DFB\u4E0A\u540E\u9762\u6709\u7684\uFF0C\u4F20\u5165\u7684\u524D\u540E\u4E24\u4E2A\u5BF9\u8C61\u90FD\u662F\u4E00\u4E2A\u5BF9\u8C61\n    for(let key in nextValue){\n        el.style[key] = nextValue[key];//\u7528\u65B0\u7684\u8986\u76D6\u5373\u53EF\n        }\n        if(prevValue){\n            for(let key in prevValue){\n                if(nextValue[key] == null){\n                    el.style[key] = null;\n                }\n            }\n        }\n}", "import { patchAttr } from \"./modules/attr\";\nimport { patchClass } from \"./modules/class\";\nimport { patchEvent } from \"./modules/event\";\nimport { patchStyle } from \"./modules/style\";\n\n//dom\u5C5E\u6027\u64CD\u4F5C\u7684API\uFF0C\u6CA1\u60F3\u5230\u662F\u8FD9\u4E48\u7684\u590D\u6742\uFF0C\u5C31\u4E00\u4E2A\u5C5E\u6027\u800C\u5DF2\uFF0C\nexport function patchProp(el,key,prevValue,nextValue){\n//\u7C7B\u540D\uFF0C el.className\nif(key=='class'){\n    patchClass(el,nextValue);\n}else if(key==='style'){\n    patchStyle(el,prevValue,nextValue);//\u6837\u5F0F el.style\n}else if(/^on[^a-z]/.test('key')){\n    patchEvent(el,key,nextValue);// events\n}else{\n    patchAttr(el,key,nextValue);//\u666E\u901A\u5C5E\u6027\n}\n\n\n\n\n\n}\n//\u52A0\u4E00\u4E0B\u865A\u62DFdom\n//\u5982\u4F55\u521B\u5EFA\u771F\u5B9Edom\n//dom diff \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\n//\u7EC4\u4EF6\u7684\u5B9E\u73B0 \u6A21\u677F\u6E32\u67D3 \u6838\u5FC3\u7684\u7EC4\u4EF6\u66F4\u65B0 \uFF0Cteleport suspense\n\n//\u6A21\u7248\u7684\u53D8\u5F02\u539F\u7406 + \u4EE3\u7801\u8F6C\u5316 +\u4EE3\u7801\u751F\u6210\uFF08\u53D8\u5F02\u4F18\u5316\uFF09"],
  "mappings": "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",
  "names": ["type", "renderOptions", "i", "render"]
}
